#!/usr/bin/env node
!function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var r={};return t.m=e,t.c=r,t.i=function(e){return e},t.d=function(e,t,r){Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var r=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=6)}([function(e,t){e.exports=require("chalk")},function(e,t){e.exports=require("fs-extra")},,,function(e,t){e.exports=require("path")},,function(e,t,r){"use strict";var n=r(1),o=r(4),a=r(0),c=function(){function e(){}return e.prototype.write=function(e,t){var r=this;void 0===t&&(t="data/");var n;n=o.resolve(t);var c=e.map(function(e){return r.execute(n,e.name,r.getContent(e))});return new Promise(function(t,r){Promise.all(c).then(function(){console.log(a.magenta("Done writing all "+e.length+" neo persistors!")),t(!0)})["catch"](function(e){return r(e)})})},e.prototype.execute=function(e,t,r){return new Promise(function(c,i){var u=o.join(e,""+t);n.writeFile(u,r,function(e){e&&(console.info(a.red("An error occured.\nThis probably means you entered a path to a directory that doesn't exist. \nPlease correct this and try again")),i(!1),process.exit(1)),console.log(a.green("written >> "+t)),c(!0)})})},e.prototype.getContent=function(e){var t=e.methods.filter(function(e){return e.name.charAt(0)!==e.name.charAt(0).toUpperCase()}).sort(function(e,t){return e.name.toUpperCase()<t.name.toUpperCase()?-1:e.name.toUpperCase()>t.name.toUpperCase()?1:0}).map(function(e){var t=e.from.toLowerCase().concat("Fid"),r=e.to.toLowerCase().concat("Tid"),n=e.params.map(function(e){return/([a-z_]+):/g.exec(e)[1]+": "+/([a-z_]+):/g.exec(e)[1]}).reduce(function(e,t){return e.concat(t+",")},"");n="{".concat(n.slice(0,n.length-1)).concat("}");var o=e.name+"("+t.concat(": ObjectID")+", "+r.concat(": ObjectID")+", "+e.params.join(",")+"): Promise<EdgeCreatedResponse> {\r\n\t\treturn this.createEdge({id: "+t+"}, {id: "+r+"}, '"+e.relation+"', "+n+", '"+e.to+"');\r\n\t}\r\n";return o}).reduce(function(e,t){return e.concat("\r\n\t"+t)},""),r="import { ObjectID } from 'mongodb';\r\nimport { NeoPersistor, EdgeCreatedResponse } from '../main/neo.persistor';\r\n\r\nexport class "+e.label+"Neo extends NeoPersistor {\r\n\tlabel: string;\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.label = '"+e.label+"';\r\n\t}\r\n"+t+"\r\n}\n        ";return r},e}();t.Writer=c}]);
//# sourceMappingURL=writer.js.map