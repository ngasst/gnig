#!/usr/bin/env node
!function(e){function r(t){if(n[t])return n[t].exports;var o=n[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,r),o.l=!0,o.exports}var n={};return r.m=e,r.c=n,r.i=function(e){return e},r.d=function(e,r,n){Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},r.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(n,"a",n),n},r.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},r.p="",r(r.s=2)}([function(e,r){e.exports=require("chalk")},function(e,r){e.exports=require("fs-extra")},function(e,r,n){"use strict";var t=n(3),o=n(1),a=n(0),i=function(){function e(){}return e.prototype.getGraph=function(e){var r=new t.Parser;return new Promise(function(n,t){o.readFile(e,function(e,o){e&&(console.info(a.red("An error occured. This probably means you entered a path that doesn't point to a valid .graphml file.\nPlease correct this and try again")),t(!1),process.exit(1)),r.parseString(o.toString(),function(e,r){e&&(console.info(a.red("An error occured. This means we couldn't parse the .graphml file you provided.\nPlease make sure of its integrity and try again.")),t(!1),process.exit()),n(r)})})})},e.prototype.parse=function(e){var r=this;return new Promise(function(n,t){r.getGraph(e).then(function(e){var r=Object.assign({},{nodes:e.graphml.graph[0].node,edges:e.graphml.graph[0].edge}),t=r.nodes,o=r.edges,a=t.map(function(e){return Object.assign({},{label:e.data[0]["y:GenericNode"][0]["y:NodeLabel"][0]._,properties:e.data[0]["y:GenericNode"][0]["y:NodeLabel"][1]._,id:e.$.id})}),i=o.map(function(e){var r;if("y:PolyLineEdge"in e.data[0]&&"y:EdgeLabel"in e.data[0]["y:PolyLineEdge"][0]){var n=e.data[0]["y:PolyLineEdge"][0]["y:EdgeLabel"][0]._.match(new RegExp(/[(A-Z)]+/,"g")).join("_"),t=e.data[0]["y:PolyLineEdge"][0]["y:EdgeLabel"][0]._.replace(n,"");r=Object.assign({},{id:e.$.id,source:e.$.source,target:e.$.target,label:n,properties:t})}else r=Object.assign({},{id:e.$.id,source:e.$.source,target:e.$.target,label:"",properties:{}});return r}),s=Object.assign({},{nodes:a,edges:i});n(s)})})},e}();r.GraphParser=i},function(e,r){e.exports=require("xml2js")}]);
//# sourceMappingURL=parser.js.map